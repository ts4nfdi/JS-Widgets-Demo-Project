<!doctype html>
<html class="no-js" lang="">
<head>
  <title>JS-Widgets Demo</title>

  <link rel="icon" type="image/svg+xml" href="./images/favicon.svg">
  <link rel="icon" type="image/png" href="./images/favicon.png">

  <link rel="stylesheet" href="https://unpkg.com/@elastic/eui@62.2.4/dist/eui_theme_light.css">
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/semlookp_widgets.css/">
  <link rel="stylesheet" href="./css/prism.css">
  <script type="text/javascript" src="./js/semlookp_widgets.js"></script>

  <script>
    let selectOption = "";
    let pApi = "https://semanticlookup.zbmed.de/api/";
  </script>
</head>

<body>
  <div class="parent">
    <div class="hor" style="max-width: 600px; margin-right: 20px">
      <div class="euiPanel euiPanel--plain euiPanel--paddingMedium euiCard euiCard--horizontal css-1yzwxdg-euiPanel-grow-m-m-plain-hasShadow" style="margin-bottom: 20px">
        <div class="euiCard__content">
          <span class="euiTitle euiCard__title css-1mr6cet-euiTitle-s">JS-Widgets Demo Project</span>
        </div>
        <img src="./images/NFDI_SemLookP_Logo.svg" alt="" style="margin-top: 10px; align-self: center; width: 95%">
        <div class="euiCard__content">
          <br>
          <div class="euiText css-g2xc3e-euiText-m">
            This is an example project illustrating the use of SemLookP's widgets in a plain JS environment. All widgets are created directly inside of <span class="mark">index.html</span>.
            To access the widgets of SemLookP, a bundled javascript output file generated by esbuild in the <a href="https://github.com/nfdi4health/semlookp-widgets/">semlookp-widgets</a>
            repository is included in this project's <span class="mark">js/</span> folder and embedded in <span class="mark">index.html</span> via script tag.
            <br><br>
            To create a widget, an empty container with an id has to be created first. This container can then be addressed in a script tag, where the SemLookP widget can now be rendered into
            with the respective function added to <span class="mark">window['SemLookPWidgets']</span>. Here's an example code snippet:
          </div>
          <pre><code class="language-html">&lt;head&gt;
  &lt;link rel="stylesheet" href="https://unpkg.com/@elastic/eui@62.2.4/dist/eui_theme_light.css"&gt;
  &lt;link rel="stylesheet" href="./css/semlookp_widgets.css/"&gt;
  &lt;script type="text/javascript" src="./js/semlookp_widgets.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="datacontent_widget"&gt;&lt;/div&gt;
  &lt;script&gt;
    let widgetContainer = document.getElementById('datacontent_widget');
    window['SemLookPWidgets'].createDataContent(
      {
        api: "https://www.ebi.ac.uk/ols4/api/",
      },
      widgetContainer
    );
  &lt;/script&gt;
&lt;/body&gt;</code></pre>
        </div>
      </div>
    </div>

    <div class="hor" style="max-width: 500px; margin-right: 20px">
      <div class="euiPanel euiPanel--plain euiPanel--paddingMedium euiCard euiCard--horizontal css-1yzwxdg-euiPanel-grow-m-m-plain-hasShadow" style="margin-bottom: 20px">
        <div class="euiCard__content">
          <span class="euiTitle euiCard__title css-1mr6cet-euiTitle-s">Choose an API</span>
        </div>

        <div class="euiCard__content">
          <br>
          <form>
            <fieldset>
              <label for="slp">
                <input type="radio" id="slp" name="api" value="https://semanticlookup.zbmed.de/api/" onclick="pApi = this.value; initialize()" checked>
                <span class="euiText css-g2xc3e-euiText-m">https://semanticlookup.zbmed.de/api/</span>
              </label>
              <br>
              <label for="slpols">
                <input type="radio" id="slpols" name="api" value="https://semanticlookup.zbmed.de/ols/api/" onclick="pApi = this.value; initialize()">
                <span class="euiText css-g2xc3e-euiText-m">https://semanticlookup.zbmed.de/ols/api/</span>
              </label>
              <br>
              <label for="ebi">
                <input type="radio" id="ebi" name="api" value="https://www.ebi.ac.uk/ols4/api/" onclick="pApi = this.value; initialize()">
                <span class="euiText css-g2xc3e-euiText-m">https://www.ebi.ac.uk/ols4/api/</span>
              </label>
            </fieldset>
          </form>

        </div>
      </div>

      <div class="euiPanel euiPanel--plain euiPanel--paddingMedium euiCard euiCard--horizontal css-1yzwxdg-euiPanel-grow-m-m-plain-hasShadow" style="margin-bottom: 20px">
        <div class="euiCard__content">
          <span class="euiTitle euiCard__title css-1mr6cet-euiTitle-s">SelectOption</span>
        </div>

        <div class="euiCard__content">
          <br>
          <form>
            <fieldset>
              <label for="slp">
                <input type="radio" id="abc primer" name="api" value="http://purl.obolibrary.org/obo/IAO_0000409" onclick="selectOption = this.value; initialize()">
                <span class="euiText css-g2xc3e-euiText-m"><i>denotator type</i></span>
              </label>
              <br>
              <label for="slpols">
                <input type="radio" id="opanixil" name="api" value="http://purl.obolibrary.org/obo/UBERON_2001747" onclick="selectOption = this.value; initialize()">
                <span class="euiText css-g2xc3e-euiText-m"><i>lateral mesethmoid wing</i></span>
              </label>
              <br>
              <label for="ebi">
                <input type="radio" id="empty" name="api" value="" onclick="selectOption = this.value; initialize()" checked>
                <span class="euiText css-g2xc3e-euiText-m">no preselected value</span>
              </label>
            </fieldset>
          </form>

        </div>
      </div>

      <div class="euiPanel euiPanel--plain euiPanel--paddingMedium euiCard euiCard--horizontal css-1yzwxdg-euiPanel-grow-m-m-plain-hasShadow" style="margin-bottom: 20px">
        <div class="euiCard__content">
          <span class="euiTitle euiCard__title css-1mr6cet-euiTitle-s">Autocomplete Widget</span>
        </div>
        <div class="euiCard__content">
          <br>
          <span class="euiText css-g2xc3e-euiText-m">
          Here you can search for different concepts using the semanticlookup API.
          </span>
          <br><br>
        </div>
        <div id="autocomplete_widget"></div>
      </div>

      <div class="euiPanel euiPanel--plain euiPanel--paddingMedium euiCard euiCard--horizontal css-1yzwxdg-euiPanel-grow-m-m-plain-hasShadow">
        <div class="euiCard__content">
          <span class="euiTitle euiCard__title css-1mr6cet-euiTitle-s">Metadata Widget</span>
          <br><br>
        </div>
        <div id="metadata_widget" style="text-align: left"></div>
      </div>
    </div>

    <div class="hor" style="max-width: 500px">
      <div id="datacontent_widget" style="margin-bottom: 20px"></div>
      <div id="entityinfo_widget" style="margin-bottom: 20px"></div>
      <div id="entityrelations_widget"></div>
    </div>
  </div>

  <script>
    function initialize() {
      let widgetContainer = document.getElementById('autocomplete_widget');
      window['SemLookPWidgets'].createAutocomplete(
        {
          api: pApi,
          selectionChangedEvent:((props) => {
            selectOption = props.length > 0 ? props[0].iri : selectOption;
            initialize()
          }),
          preselected: [{iri:`${selectOption}`}],
          allowCustomTerms:true,
          singleSelection: true
        },
        widgetContainer);

      widgetContainer = document.getElementById('datacontent_widget');
      window['SemLookPWidgets'].createDataContent(
        {
          api: pApi,
        },
        widgetContainer);

      widgetContainer = document.getElementById('entityinfo_widget');
      window['SemLookPWidgets'].createEntityInfo(
        {
          api: pApi,
          iri: selectOption,
          hasTitle: true
        },
      widgetContainer);

      widgetContainer = document.getElementById('metadata_widget');
      window['SemLookPWidgets'].createMetadata(
        {
          api: pApi,
          iri: selectOption,
          parameter: "",
          //useLegacy: false
        },
        widgetContainer);

      widgetContainer = document.getElementById('entityrelations_widget');
      window['SemLookPWidgets'].createEntityRelations(
        {
          api: "https://www.ebi.ac.uk/ols4/api/",
          iri: selectOption,
          hasTitle: true,
        },
        widgetContainer
      );
    }
    initialize();
  </script>
  <script src="./js/prism.js"></script>
</body>
</html>
